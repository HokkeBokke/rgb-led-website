(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1435:function(e,n,t){Promise.resolve().then(t.bind(t,4818))},4818:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var r=t(3827);let o=(0,t(8209).io)("http://raspberrypi:3000"),l={power:!0,color:"#ff0000",brightness:100};o.on("connect",()=>console.log("Connected")),o.on("lights on",e=>{l.power=e}),o.on("current color",e=>{l.color=e}),o.on("brightness",e=>{l.brightness=Math.round(e/2.55)});var s=t(4090);let a=e=>{let n=(e=e.substr(1)).substr(0,2),t=e.substr(2,2),r=e.substr(4,2);return{r:parseInt(n,16),g:parseInt(t,16),b:parseInt(r,16)}},i=(e,n,t)=>{let r=Math.max(e/=255,n/=255,t/=255),o=r-Math.min(e,n,t),l=o?r===e?(n-t)/o:r===n?2+(t-e)/o:4+(e-n)/o:0;return[60*l<0?60*l+360:60*l,100*(o?r<=.5?o/(2*r-o):o/(2-(2*r-o)):0),100*(2*r-o)/2]},u=(e,n,t)=>{let r=n=>(n+e/30)%12,o=(n/=100)*Math.min(t/=100,1-t),l=e=>t-o*Math.max(-1,Math.min(r(e)-3,Math.min(9-r(e),1)));return[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))]};function c(){let[e,n]=(0,s.useState)(l.color),[t,c]=(0,s.useState)(l.power),[g,h]=(0,s.useState)(l.brightness);o.on("lights on",e=>{c(!!e)}),o.on("current color",e=>{n(e)}),o.on("brightness",e=>{h(Math.round(e/2.55))});let b=a(e),d=i(b.r,b.g,b.b)[0];return(0,r.jsxs)("div",{className:"flex flex-col items-center m-5 space-y-5",children:[(0,r.jsx)("input",{type:"color",value:e,onChange:function(e){o.emit("rgb value",e.target.value)}}),(0,r.jsxs)("div",{className:"w-full sm:w-1/2 block",children:[(0,r.jsx)("label",{htmlFor:"hue-slider",children:"Hue:"}),(0,r.jsx)("input",{id:"hue-slider",type:"range",min:0,max:360,className:"h-2 appearance-none outline-none rounded-lg w-full",style:{background:"linear-gradient(to right, rgb(255,0,0), rgb(255,255,0), rgb(0,255,0),rgb(0,255,255),rgb(0,0,255),rgb(255,0,255),rgb(255,0,0))"},onChange:function(e){let n=e.target.value,t="#";u(n,100,50).forEach(e=>{let n=e.toString(16);n.length<2&&(t+="0"),t+=n}),o.emit("rgb value",t)},value:d})]}),(0,r.jsxs)("div",{className:"w-full sm:w-1/2 block",children:[(0,r.jsx)("label",{htmlFor:"brightness-slider",children:"Brightness:"}),(0,r.jsxs)("span",{className:"float-end",children:[g,"%"]}),(0,r.jsx)("input",{id:"brigtness-slider",className:"h-2 appearance-none outline-none rounded-lg w-full",style:{background:"linear-gradient(to right, rgb(0,0,0), rgb(".concat(b.r,",").concat(b.g,",").concat(b.b,"))")},type:"range",min:0,max:100,onChange:function(e){o.emit("brightness value",e.target.value)},value:g})]}),(0,r.jsx)("input",{className:t?"bg-blue-700 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded":"bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded",type:"button",value:"Toggle power",onClick:function(e){o.emit("toggle power")}})]})}}},function(e){e.O(0,[209,971,69,744],function(){return e(e.s=1435)}),_N_E=e.O()}]);